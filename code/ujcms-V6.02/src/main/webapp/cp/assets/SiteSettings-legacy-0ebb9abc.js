System.register(["./index-legacy-1e63c30f.js","./tree-legacy-035e50cc.js","./config-legacy-d785a9ee.js","./user-legacy-909e3dc4.js","./LabelTip.vue_vue_type_script_setup_true_lang-legacy-6e6f943f.js","./FileListUpload.vue_vue_type_style_index_0_scoped_cd89d899_lang-legacy-2402d9db.js","./BaseUpload.vue_vue_type_style_index_0_scoped_2414138e_lang-legacy-ecc28671.js","./FieldItem.vue_vue_type_script_setup_true_lang-legacy-4c38d663.js","./content-legacy-136d9c10.js","./BaseUpload-legacy-960508fe.js"],(function(e,l){"use strict";var a,u,t,s,d,o,r,i,n,m,p,v,g,_,c,b,f,V,y,h,w,k,q,$,U,x,B,S,j,D,I,T,C,F,K,W,z,E,P=document.createElement("style");return P.textContent=".el-tabs[data-v-d2b3edc0] .el-tabs__header{float:right;margin-right:1px}.watermark-position[data-v-d2b3edc0]{display:flex;height:9rem;width:9rem;flex-wrap:wrap;border-radius:.25rem;border-width:1px;border-style:dashed;--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.watermark-position[data-v-d2b3edc0] .el-radio__label{padding-left:0}.watermark-position[data-v-d2b3edc0] .el-radio{margin-right:0;display:flex;height:33.333333%;width:33.333333%;align-items:center;justify-content:center}\n",document.head.appendChild(P),{setters:[e=>{a=e.d,u=e.u,t=e.r,s=e.X,d=e.aY,o=e.o,r=e.a,i=e.b,n=e.c,m=e.e,p=e.w,v=e.h,g=e.I,_=e.a8,c=e.a7,b=e.f,f=e.i,V=e.j,y=e.k,h=e.t,w=e.as,k=e.l,q=e.R,$=e.S,U=e.E,x=e._},e=>{B=e.t},e=>{S=e.A,j=e.q,D=e.B,I=e.C,T=e.D,C=e.E,F=e.F},e=>{K=e.q},e=>{W=e._},e=>{z=e.a},null,e=>{E=e._},null,null],execute:function(){const l={class:"watermark-position"},P=(e=>(q("data-v-d2b3edc0"),e=e(),$(),e))((()=>V("span",null,null,-1)));e("default",x(a({name:"SiteSettings",emits:{"update:modelValue":null,finished:null},setup(e){const{t:a}=u(),q=t(),$=t(),x=t({}),R=t(!1),H=t(!1),N=t([]),A=t([]),L=t([]),M=t(),J=s((()=>L.value.find((e=>e.id===M.value)))),O=s((()=>JSON.parse(J.value?.customs||"[]"))),X=[];d("siteSettings:base:update")&&X.push("base"),d("siteSettings:watermark:update")&&X.push("watermark"),d("siteSettings:messageBoard:update")&&X.push("messageBoard"),d("siteSettings:customs:update")&&X.push("customs");const Y=t(X[0]),G=e=>{x.value="watermark"===e?$.value.watermark:"messageBoard"===e?$.value.messageBoard:"customs"===e?$.value.customs:$.value},Q=async()=>{A.value=await S()},Z=async()=>{N.value=B(await K())},ee=async()=>{L.value=await j({type:"site"})},le=async()=>{$.value=await D(),M.value=$.value.modelId,G(Y.value)};o((async()=>{R.value=!0;try{await Promise.all([Q(),Z(),ee(),le()])}finally{R.value=!1}}));const ae=()=>{q.value.validate((async e=>{if(e){H.value=!0;try{"watermark"===Y.value?await I(x.value):"messageBoard"===Y.value?await T(x.value):"customs"===Y.value?await C(x.value):await F(x.value),U.success(a("success"))}finally{H.value=!1}(async()=>{R.value=!0;try{await le()}finally{R.value=!1}})()}}))};return(e,a)=>{const u=r("el-tab-pane"),t=r("el-tabs"),s=r("el-aside"),d=r("el-switch"),o=r("el-form-item"),$=r("el-col"),U=r("el-radio"),B=r("el-radio-group"),S=r("el-slider"),j=r("el-input"),D=r("el-row"),I=r("el-option"),T=r("el-select"),C=r("el-input-number"),F=r("el-button"),K=r("el-form"),N=r("el-main"),M=r("el-container"),J=i("loading");return n(),m(M,null,{default:p((()=>[v(s,{width:"180px",class:"pr-3"},{default:p((()=>[v(t,{modelValue:Y.value,"onUpdate:modelValue":a[0]||(a[0]=e=>Y.value=e),"tab-position":"left",stretch:"",class:"bg-white",onTabClick:a[1]||(a[1]=({paneName:e})=>G(e))},{default:p((()=>[(n(),g(c,null,_(X,(l=>v(u,{key:l,name:l,label:e.$t(`site.settings.${l}`)},null,8,["name","label"]))),64))])),_:1},8,["modelValue"])])),_:1}),v(N,{class:"p-3 app-block"},{default:p((()=>[b((n(),m(K,{ref_key:"form",ref:q,model:x.value,"label-width":"150px"},{default:p((()=>["watermark"===Y.value?(n(),m(D,{key:0},{default:p((()=>[v($,{span:24},{default:p((()=>[v(o,{prop:"enabled",rules:{required:!0,message:()=>e.$t("v.required")}},{label:p((()=>[v(W,{message:"site.watermark.enabled",help:""})])),default:p((()=>[v(d,{modelValue:x.value.enabled,"onUpdate:modelValue":a[2]||(a[2]=e=>x.value.enabled=e)},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1}),v($,{span:12},{default:p((()=>[v(o,{prop:"overlay",label:e.$t("site.watermark.overlay"),rules:x.value.enabled?{required:!0,message:()=>e.$t("v.required")}:{}},{default:p((()=>[v(f(z),{modelValue:x.value.overlay,"onUpdate:modelValue":a[3]||(a[3]=e=>x.value.overlay=e)},null,8,["modelValue"])])),_:1},8,["label","rules"])])),_:1}),v($,{span:12},{default:p((()=>[v(o,{prop:"position",label:e.$t("site.watermark.position"),rules:{required:!0,message:()=>e.$t("v.required")}},{default:p((()=>[v(B,{modelValue:x.value.position,"onUpdate:modelValue":a[4]||(a[4]=e=>x.value.position=e)},{default:p((()=>[V("div",l,[(n(),g(c,null,_(9,(l=>v(U,{key:l,label:l,title:e.$t(`site.watermark.position.${l}`)},{default:p((()=>[P])),_:2},1032,["label","title"]))),64))])])),_:1},8,["modelValue"])])),_:1},8,["label","rules"])])),_:1}),v($,{span:24},{default:p((()=>[v(o,{prop:"dissolve",label:e.$t("site.watermark.dissolve"),rules:{required:!0,message:()=>e.$t("v.required")}},{label:p((()=>[v(W,{message:"site.watermark.dissolve",help:""})])),default:p((()=>[v(S,{modelValue:x.value.dissolve,"onUpdate:modelValue":a[5]||(a[5]=e=>x.value.dissolve=e),min:0,max:100,"show-input":""},null,8,["modelValue"])])),_:1},8,["label","rules"])])),_:1}),v($,{span:12},{default:p((()=>[v(o,{prop:"minWidth",rules:{required:!0,message:()=>e.$t("v.required")}},{label:p((()=>[v(W,{message:"site.watermark.minWidth",help:""})])),default:p((()=>[v(j,{modelValue:x.value.minWidth,"onUpdate:modelValue":a[6]||(a[6]=e=>x.value.minWidth=e),modelModifiers:{number:!0},min:1,max:65535},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1}),v($,{span:12},{default:p((()=>[v(o,{prop:"minHeight",rules:{required:!0,message:()=>e.$t("v.required")}},{label:p((()=>[v(W,{message:"site.watermark.minHeight",help:""})])),default:p((()=>[v(j,{modelValue:x.value.minHeight,"onUpdate:modelValue":a[7]||(a[7]=e=>x.value.minHeight=e),modelModifiers:{number:!0},min:1,max:65535},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1})])),_:1})):"messageBoard"===Y.value?(n(),m(D,{key:1},{default:p((()=>[v($,{span:12},{default:p((()=>[v(o,{prop:"enabled",rules:{required:!0,message:()=>e.$t("v.required")}},{label:p((()=>[v(W,{message:"site.messageBoard.enabled"})])),default:p((()=>[v(d,{modelValue:x.value.enabled,"onUpdate:modelValue":a[8]||(a[8]=e=>x.value.enabled=e)},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1}),v($,{span:12},{default:p((()=>[v(o,{prop:"loginRequired",rules:{required:!0,message:()=>e.$t("v.required")}},{label:p((()=>[v(W,{message:"site.messageBoard.loginRequired"})])),default:p((()=>[v(d,{modelValue:x.value.loginRequired,"onUpdate:modelValue":a[9]||(a[9]=e=>x.value.loginRequired=e)},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1})])),_:1})):"customs"===Y.value?(n(),m(D,{key:2},{default:p((()=>[(n(!0),g(c,null,_(f(O),(l=>(n(),m($,{key:l.code,span:l.double?12:24},{default:p((()=>[v(o,{prop:l.code,rules:l.required?{required:!0,message:()=>e.$t("v.required")}:void 0},{label:p((()=>[v(W,{label:l.name},null,8,["label"])])),default:p((()=>[v(E,{modelValue:x.value[l.code],"onUpdate:modelValue":e=>x.value[l.code]=e,"model-key":x.value[l.code+"_key"],"onUpdate:modelKey":e=>x.value[l.code+"_key"]=e,field:l},null,8,["modelValue","onUpdate:modelValue","model-key","onUpdate:modelKey","field"])])),_:2},1032,["prop","rules"])])),_:2},1032,["span"])))),128))])),_:1})):(n(),m(D,{key:3},{default:p((()=>[v($,{span:12},{default:p((()=>[v(o,{prop:"name",label:e.$t("site.name"),rules:{required:!0,message:()=>e.$t("v.required")}},{default:p((()=>[v(j,{ref:"focus",modelValue:x.value.name,"onUpdate:modelValue":a[10]||(a[10]=e=>x.value.name=e),maxlength:"50"},null,8,["modelValue"])])),_:1},8,["label","rules"])])),_:1}),v($,{span:12},{default:p((()=>[v(o,{prop:"protocol",rules:{required:!0,message:()=>e.$t("v.required")}},{label:p((()=>[v(W,{message:"site.protocol",help:""})])),default:p((()=>[v(T,{modelValue:x.value.protocol,"onUpdate:modelValue":a[11]||(a[11]=e=>x.value.protocol=e),class:"w-full"},{default:p((()=>[(n(),g(c,null,_(["http","https"],(e=>v(I,{key:e,label:e,value:e},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1},8,["rules"])])),_:1}),v($,{span:12},{default:p((()=>[v(o,{prop:"domain",rules:[{required:!0,message:()=>e.$t("v.required")},{pattern:/^[a-z0-9-.]*$/,message:()=>e.$t("site.error.domainPattern")},{pattern:/^(?!(uploads|templates|WEB-INF|cp)$).*/i,message:()=>e.$t("site.error.excludesPattern")}]},{label:p((()=>[v(W,{message:"site.domain",help:""})])),default:p((()=>[v(j,{modelValue:x.value.domain,"onUpdate:modelValue":a[12]||(a[12]=e=>x.value.domain=e),maxlength:"50"},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1}),v($,{span:12},{default:p((()=>[v(o,{prop:"subDir",rules:[{pattern:/^[\w-]*$/,message:()=>e.$t("site.error.subDirPattern")},{pattern:/^(?!(uploads|templates|WEB-INF|cp)$).*/i,message:()=>e.$t("site.error.excludesPattern")}]},{label:p((()=>[v(W,{message:"site.subDir",help:""})])),default:p((()=>[v(j,{modelValue:x.value.subDir,"onUpdate:modelValue":a[13]||(a[13]=e=>x.value.subDir=e),maxlength:"50"},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1}),v($,{span:12},{default:p((()=>[v(o,{prop:"theme",rules:{required:!0,message:()=>e.$t("v.required")}},{label:p((()=>[v(W,{message:"site.theme",help:""})])),default:p((()=>[v(T,{modelValue:x.value.theme,"onUpdate:modelValue":a[14]||(a[14]=e=>x.value.theme=e),class:"w-full"},{default:p((()=>[(n(!0),g(c,null,_(A.value,(e=>(n(),m(I,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["rules"])])),_:1}),v($,{span:12},{default:p((()=>[v(o,{prop:"mobileTheme",rules:{required:!0,message:()=>e.$t("v.required")}},{label:p((()=>[v(W,{message:"site.mobileTheme",help:""})])),default:p((()=>[v(T,{modelValue:x.value.mobileTheme,"onUpdate:modelValue":a[15]||(a[15]=e=>x.value.mobileTheme=e),class:"w-full"},{default:p((()=>[(n(!0),g(c,null,_(A.value,(e=>(n(),m(I,{key:e,label:e,value:e},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["rules"])])),_:1}),v($,{span:12},{default:p((()=>[v(o,{prop:"modelId",rules:{required:!0,message:()=>e.$t("v.required")}},{label:p((()=>[v(W,{message:"site.model",help:""})])),default:p((()=>[v(T,{modelValue:x.value.modelId,"onUpdate:modelValue":a[16]||(a[16]=e=>x.value.modelId=e),class:"w-full"},{default:p((()=>[(n(!0),g(c,null,_(L.value,(e=>(n(),m(I,{key:e.id,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["rules"])])),_:1}),v($,{span:24},{default:p((()=>[v(o,{prop:"logo"},{label:p((()=>[v(W,{message:"site.logo",help:""})])),default:p((()=>[v(f(z),{modelValue:x.value.logo,"onUpdate:modelValue":a[17]||(a[17]=e=>x.value.logo=e)},null,8,["modelValue"])])),_:1})])),_:1}),v($,{span:12},{default:p((()=>[v(o,{prop:"seoTitle"},{label:p((()=>[v(W,{message:"site.seoTitle",help:""})])),default:p((()=>[v(j,{modelValue:x.value.seoTitle,"onUpdate:modelValue":a[18]||(a[18]=e=>x.value.seoTitle=e),maxlength:"150"},null,8,["modelValue"])])),_:1})])),_:1}),v($,{span:12},{default:p((()=>[v(o,{prop:"seoKeywords"},{label:p((()=>[v(W,{message:"site.seoKeywords",help:""})])),default:p((()=>[v(j,{modelValue:x.value.seoKeywords,"onUpdate:modelValue":a[19]||(a[19]=e=>x.value.seoKeywords=e),maxlength:"150"},null,8,["modelValue"])])),_:1})])),_:1}),v($,{span:24},{default:p((()=>[v(o,{prop:"seoDescription"},{label:p((()=>[v(W,{message:"site.seoDescription",help:""})])),default:p((()=>[v(j,{modelValue:x.value.seoDescription,"onUpdate:modelValue":a[20]||(a[20]=e=>x.value.seoDescription=e),type:"textarea",rows:3,maxlength:"1000"},null,8,["modelValue"])])),_:1})])),_:1}),v($,{span:12},{default:p((()=>[v(o,{prop:"pageSize",rules:{required:!0,message:()=>e.$t("v.required")}},{label:p((()=>[v(W,{message:"site.pageSize",help:""})])),default:p((()=>[v(C,{modelValue:x.value.pageSize,"onUpdate:modelValue":a[21]||(a[21]=e=>x.value.pageSize=e),min:1,max:200},null,8,["modelValue"])])),_:1},8,["rules"])])),_:1}),v($,{span:12},{default:p((()=>[v(o,{prop:"status"},{label:p((()=>[v(W,{message:"site.status",help:""})])),default:p((()=>[v(B,{modelValue:x.value.status,"onUpdate:modelValue":a[22]||(a[22]=e=>x.value.status=e)},{default:p((()=>[(n(),g(c,null,_([0,1],(l=>v(U,{key:l,label:l},{default:p((()=>[y(h(e.$t(`site.status.${l}`)),1)])),_:2},1032,["label"]))),64))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})),V("div",null,[v(F,{disabled:f(w)(`siteSettings:${Y.value}:update`),loading:H.value,type:"primary","native-type":"submit",onClick:k(ae,["prevent"])},{default:p((()=>[y(h(e.$t("save")),1)])),_:1},8,["disabled","loading","onClick"])])])),_:1},8,["model"])),[[J,R.value]])])),_:1})])),_:1})}}}),[["__scopeId","data-v-d2b3edc0"]]))}}}));
