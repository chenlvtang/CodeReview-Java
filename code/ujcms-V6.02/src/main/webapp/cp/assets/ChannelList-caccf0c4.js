import{d as ze,p as We,r as v,X as W,v as Xe,a as w,c as m,e as f,w as t,i as e,V as H,h as l,k as I,t as S,g as $,I as q,a7 as U,a8 as E,_ as Ge,u as He,o as Ye,b as Ze,j as ue,f as xe,aD as el,aJ as ll,E as al,aK as nl,as as Q,a5 as tl,a2 as ol}from"./index-285670b0.js";import{t as Fe,b as sl,c as ul,f as De,e as rl}from"./tree-73f11865.js";import{g as Re,w as dl,x as il,y as ml,z as Ae,A as pl,h as cl,B as Ee,C as vl}from"./content-214478a8.js";import{b as Ne}from"./system-d8c910a1.js";import{a as fl,_ as bl,b as hl,c as yl}from"./QueryItem.vue_vue_type_script_setup_true_lang-c40055fe.js";import{_ as wl}from"./ListMove.vue_vue_type_script_setup_true_lang-591ffc50.js";import{q as Ke}from"./config-43502fd6.js";import{a as Le,m as Pe,g as Be}from"./data-72353d8f.js";import{_ as Vl,T as $l}from"./FieldItem.vue_vue_type_script_setup_true_lang-180c3254.js";import{_ as gl}from"./DialogForm.vue_vue_type_script_setup_true_lang-2cec4ef8.js";import{_ as ae}from"./LabelTip.vue_vue_type_script_setup_true_lang-3e1cb478.js";import"./FileListUpload.vue_vue_type_style_index_0_scoped_cd89d899_lang-908ae973.js";import"./BaseUpload-8033ede3.js";/* empty css                                                                   */const _l={name:"ChannelForm"},kl=ze({..._l,props:{modelValue:{type:Boolean,required:!0},beanId:{type:Number,default:null},beanIds:{type:Array,required:!0},parent:{type:Object,default:null}},emits:{"update:modelValue":null,finished:null},setup(X,{emit:ne}){const N=X,{modelValue:D,parent:V}=We(N),C=v(),u=v({}),j=v([]),z=v([]),_=v([]),O=v([]),K=v([]),F=v([]),J=v([]),T=v(),R=W(()=>_.value.find(a=>a.id===T.value)),s=W(()=>{var a;return Le(Pe(Be().channel.mains,(a=R.value)==null?void 0:a.mains,"channel"))}),A=W(()=>{var a;return Le(Pe(Be().channel.asides,(a=R.value)==null?void 0:a.asides,"channel"))}),Y=W(()=>{var a;return JSON.parse(((a=R.value)==null?void 0:a.customs)||"[]")}),te=W(()=>{const a=sl(z.value,u.value.id);return H.allChannelPermission?a:ul(a,K.value)}),G=async()=>{z.value=Fe(await Re())},oe=async()=>{H.epRank>0&&(j.value=await Ne({category:"sys_article",latestVersion:!0}))},Z=async()=>{await G(),ne("finished")},x=async()=>{_.value=await Ke({type:"channel"}),T.value==null&&_.value.length>0&&(T.value=_.value[0].id)},ee=async()=>{O.value=await Ke({type:"article"})},se=async()=>{F.value=await pl()},i=async()=>{J.value=await cl()},h=async()=>{K.value=await Ee()};Xe(D,()=>{var a,o,k;D.value&&(T.value=(k=(a=V.value)==null?void 0:a.articleModelId)!=null?k:(o=_.value[0])==null?void 0:o.id,h(),x(),ee(),se(),i(),G(),oe())});const g=a=>(Y.value.forEach(o=>{a[o.code]=o.defaultValue}),a);return(a,o)=>{const k=w("el-input"),c=w("el-form-item"),b=w("el-col"),p=w("el-checkbox"),M=w("el-option"),L=w("el-select"),le=w("el-switch"),re=w("el-row"),je=w("el-tree-select"),Oe=w("el-input-number"),Je=w("el-tab-pane"),Qe=w("el-tabs");return m(),f(gl,{values:u.value,"onUpdate:values":o[20]||(o[20]=d=>u.value=d),name:a.$t("menu.content.channel"),"query-bean":e(dl),"create-bean":e(il),"update-bean":e(ml),"delete-bean":e(Ae),"bean-id":X.beanId,"bean-ids":X.beanIds,focus:C.value,"init-values":d=>{var n,r,P,B,y,de,ie,me,pe,ce,ve,fe,be,he,ye,we,Ve,$e,ge,_e,ke,Ce,qe,Te,Me,Ue,Ie,Se;return{parentId:(r=d==null?void 0:d.parentId)!=null?r:(n=e(V))==null?void 0:n.id,type:1,channelModelId:(de=(B=d==null?void 0:d.channelModelId)!=null?B:(P=e(V))==null?void 0:P.channelModelId)!=null?de:(y=_.value[0])==null?void 0:y.id,articleModelId:(ce=(me=d==null?void 0:d.articleModelId)!=null?me:(ie=e(V))==null?void 0:ie.articleModelId)!=null?ce:(pe=O.value[0])==null?void 0:pe.id,nav:(be=(fe=d==null?void 0:d.nav)!=null?fe:(ve=e(V))==null?void 0:ve.nav)!=null?be:!0,channelTemplate:(we=(ye=d==null?void 0:d.channelTemplate)!=null?ye:(he=e(V))==null?void 0:he.channelTemplate)!=null?we:F.value[0],articleTemplate:(ge=($e=d==null?void 0:d.articleTemplate)!=null?$e:(Ve=e(V))==null?void 0:Ve.articleTemplate)!=null?ge:J.value[0],pageSize:20,allowComment:(Ce=(ke=d==null?void 0:d.allowComment)!=null?ke:(_e=e(V))==null?void 0:_e.allowComment)!=null?Ce:!0,allowContribute:(Me=(Te=d==null?void 0:d.allowContribute)!=null?Te:(qe=e(V))==null?void 0:qe.allowContribute)!=null?Me:!0,allowSearch:(Se=(Ie=d==null?void 0:d.allowSearch)!=null?Ie:(Ue=e(V))==null?void 0:Ue.allowSearch)!=null?Se:!0,customs:g({})}},"to-values":d=>({...d}),perms:"channel","model-value":X.modelValue,"disable-edit":d=>!e(H).allChannelPermission&&d.id!=null&&!K.value.includes(d.id),"label-width":"120px",large:"","onUpdate:modelValue":o[21]||(o[21]=d=>a.$emit("update:modelValue",d)),onFinished:Z,onBeanChange:o[22]||(o[22]=d=>{var n,r,P,B;T.value=(B=(r=d==null?void 0:d.channelModelId)!=null?r:(n=e(V))==null?void 0:n.channelModelId)!=null?B:(P=O.value[0])==null?void 0:P.id,G()})},{default:t(({isEdit:d})=>[l(re,null,{default:t(()=>[l(b,{span:18},{default:t(()=>[l(re,null,{default:t(()=>[l(b,{span:e(s).name.double?12:24},{default:t(()=>{var n;return[l(c,{prop:"name",label:(n=e(s).name.name)!=null?n:a.$t("channel.name"),rules:{required:!0,message:()=>a.$t("v.required")}},{default:t(()=>[l(k,{ref_key:"focus",ref:C,modelValue:u.value.name,"onUpdate:modelValue":o[0]||(o[0]=r=>u.value.name=r),maxlength:"50"},null,8,["modelValue"])]),_:1},8,["label","rules"])]}),_:1},8,["span"]),l(b,{span:e(s).alias.double?12:24},{default:t(()=>[l(c,{prop:"alias",rules:[{required:!0,message:()=>a.$t("v.required")},{pattern:/^[\w-]*$/,message:()=>a.$t("channel.error.aliasPattern")}]},{label:t(()=>{var n;return[l(ae,{label:(n=e(s).alias.name)!=null?n:a.$t("channel.alias"),message:"channel.alias",help:""},null,8,["label"])]}),default:t(()=>[l(k,{modelValue:u.value.alias,"onUpdate:modelValue":o[1]||(o[1]=n=>u.value.alias=n),maxlength:"50"},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1},8,["span"]),u.value.type===3?(m(),f(b,{key:0,span:e(s).linkUrl.double?12:24},{default:t(()=>[l(c,{prop:"linkUrl",rules:[{required:!0,message:()=>a.$t("v.required")},{pattern:/^(http|\/).*$/,message:()=>a.$t("channel.error.linkUrl")}]},{label:t(()=>{var n;return[l(ae,{label:(n=e(s).linkUrl.name)!=null?n:a.$t("channel.linkUrl"),message:"channel.linkUrl",help:""},null,8,["label"])]}),default:t(()=>[l(k,{modelValue:u.value.linkUrl,"onUpdate:modelValue":o[3]||(o[3]=n=>u.value.linkUrl=n),maxlength:"255"},{append:t(()=>[l(p,{modelValue:u.value.targetBlank,"onUpdate:modelValue":o[2]||(o[2]=n=>u.value.targetBlank=n)},{default:t(()=>[I(S(a.$t("channel.targetBlank")),1)]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]),_:1},8,["rules"])]),_:1},8,["span"])):$("",!0),u.value.type<3?(m(),q(U,{key:1},[e(s).seoTitle.show?(m(),f(b,{key:0,span:e(s).seoTitle.double?12:24},{default:t(()=>{var n;return[l(c,{prop:"seoTitle",label:(n=e(s).seoTitle.name)!=null?n:a.$t("channel.seoTitle"),rules:e(s).seoTitle.required?{required:!0,message:()=>a.$t("v.required")}:void 0},{default:t(()=>[l(k,{modelValue:u.value.seoTitle,"onUpdate:modelValue":o[4]||(o[4]=r=>u.value.seoTitle=r),maxlength:"150"},null,8,["modelValue"])]),_:1},8,["label","rules"])]}),_:1},8,["span"])):$("",!0),e(s).seoKeywords.show?(m(),f(b,{key:1,span:e(s).seoKeywords.double?12:24},{default:t(()=>{var n;return[l(c,{prop:"seoKeywords",label:(n=e(s).seoKeywords.name)!=null?n:a.$t("channel.seoKeywords"),rules:e(s).seoKeywords.required?{required:!0,message:()=>a.$t("v.required")}:void 0},{default:t(()=>[l(k,{modelValue:u.value.seoKeywords,"onUpdate:modelValue":o[5]||(o[5]=r=>u.value.seoKeywords=r),maxlength:"150"},null,8,["modelValue"])]),_:1},8,["label","rules"])]}),_:1},8,["span"])):$("",!0),e(s).seoDescription.show?(m(),f(b,{key:2,span:e(s).seoDescription.double?12:24},{default:t(()=>{var n;return[l(c,{prop:"seoDescription",label:(n=e(s).seoDescription.name)!=null?n:a.$t("channel.seoDescription"),rules:e(s).seoDescription.required?{required:!0,message:()=>a.$t("v.required")}:void 0},{default:t(()=>[l(k,{modelValue:u.value.seoDescription,"onUpdate:modelValue":o[6]||(o[6]=r=>u.value.seoDescription=r),maxlength:"1000"},null,8,["modelValue"])]),_:1},8,["label","rules"])]}),_:1},8,["span"])):$("",!0)],64)):$("",!0),e(s).channelModel.show?(m(),f(b,{key:2,span:e(s).channelModel.double?12:24},{default:t(()=>{var n;return[l(c,{prop:"channelModelId",label:(n=e(s).channelModel.name)!=null?n:a.$t("channel.channelModel"),rules:{required:!0,message:()=>a.$t("v.required")}},{default:t(()=>[l(L,{modelValue:u.value.channelModelId,"onUpdate:modelValue":o[7]||(o[7]=r=>u.value.channelModelId=r),class:"w-full",onChange:r=>{T.value=r,d||a.$nextTick().then(()=>{g(u.value.customs)})}},{default:t(()=>[(m(!0),q(U,null,E(_.value,r=>(m(),f(M,{key:r.id,label:r.name,value:r.id},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onChange"])]),_:2},1032,["label","rules"])]}),_:2},1032,["span"])):$("",!0),e(s).articleModel.show?(m(),f(b,{key:3,span:e(s).articleModel.double?12:24},{default:t(()=>{var n;return[l(c,{prop:"articleModelId",label:(n=e(s).articleModel.name)!=null?n:a.$t("channel.articleModel"),rules:{required:!0,message:()=>a.$t("v.required")}},{default:t(()=>[l(L,{modelValue:u.value.articleModelId,"onUpdate:modelValue":o[8]||(o[8]=r=>u.value.articleModelId=r),class:"w-full"},{default:t(()=>[(m(!0),q(U,null,E(O.value,r=>(m(),f(M,{key:r.id,label:r.name,value:r.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label","rules"])]}),_:1},8,["span"])):$("",!0),[3,4,5].includes(u.value.type)?$("",!0):(m(),q(U,{key:4},[e(s).channelTemplate.show?(m(),f(b,{key:0,span:e(s).channelTemplate.double?12:24},{default:t(()=>{var n;return[l(c,{prop:"channelTemplate",label:(n=e(s).channelTemplate.name)!=null?n:a.$t("channel.channelTemplate"),rules:e(s).channelTemplate.required?{required:!0,message:()=>a.$t("v.required")}:void 0},{default:t(()=>[l(L,{modelValue:u.value.channelTemplate,"onUpdate:modelValue":o[9]||(o[9]=r=>u.value.channelTemplate=r),class:"w-full"},{default:t(()=>[(m(!0),q(U,null,E(F.value,r=>(m(),f(M,{key:r,label:r+".html",value:r},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label","rules"])]}),_:1},8,["span"])):$("",!0),e(s).articleTemplate.show?(m(),f(b,{key:1,span:e(s).articleTemplate.double?12:24},{default:t(()=>{var n;return[l(c,{prop:"articleTemplate",label:(n=e(s).articleTemplate.name)!=null?n:a.$t("channel.articleTemplate"),rules:e(s).articleTemplate.required?{required:!0,message:()=>a.$t("v.required")}:void 0},{default:t(()=>[l(L,{modelValue:u.value.articleTemplate,"onUpdate:modelValue":o[10]||(o[10]=r=>u.value.articleTemplate=r),class:"w-full"},{default:t(()=>[(m(!0),q(U,null,E(J.value,r=>(m(),f(M,{key:r,label:r+".html",value:r},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label","rules"])]}),_:1},8,["span"])):$("",!0)],64)),e(s).allowComment.show?(m(),f(b,{key:5,span:e(s).allowComment.double?12:24},{default:t(()=>{var n;return[l(c,{prop:"allowComment",label:(n=e(s).allowComment.name)!=null?n:a.$t("channel.allowComment"),rules:e(s).allowComment.required?{required:!0,message:()=>a.$t("v.required")}:void 0},{default:t(()=>[l(le,{modelValue:u.value.allowComment,"onUpdate:modelValue":o[11]||(o[11]=r=>u.value.allowComment=r)},null,8,["modelValue"])]),_:1},8,["label","rules"])]}),_:1},8,["span"])):$("",!0),e(s).allowContribute.show?(m(),f(b,{key:6,span:e(s).allowContribute.double?12:24},{default:t(()=>{var n;return[l(c,{prop:"allowContribute",label:(n=e(s).allowContribute.name)!=null?n:a.$t("channel.allowContribute"),rules:e(s).allowContribute.required?{required:!0,message:()=>a.$t("v.required")}:void 0},{default:t(()=>[l(le,{modelValue:u.value.allowContribute,"onUpdate:modelValue":o[12]||(o[12]=r=>u.value.allowContribute=r)},null,8,["modelValue"])]),_:1},8,["label","rules"])]}),_:1},8,["span"])):$("",!0),e(s).nav.show?(m(),f(b,{key:7,span:e(s).nav.double?12:24},{default:t(()=>[l(c,{prop:"nav",rules:e(s).nav.required?{required:!0,message:()=>a.$t("v.required")}:void 0},{label:t(()=>{var n;return[l(ae,{label:(n=e(s).nav.name)!=null?n:a.$t("channel.nav"),message:"channel.nav",help:""},null,8,["label"])]}),default:t(()=>[l(le,{modelValue:u.value.nav,"onUpdate:modelValue":o[13]||(o[13]=n=>u.value.nav=n)},null,8,["modelValue"])]),_:1},8,["rules"])]),_:1},8,["span"])):$("",!0),e(s).allowSearch.show?(m(),f(b,{key:8,span:e(s).allowSearch.double?12:24},{default:t(()=>{var n;return[l(c,{prop:"allowSearch",label:(n=e(s).allowSearch.name)!=null?n:a.$t("channel.allowSearch"),rules:e(s).allowSearch.required?{required:!0,message:()=>a.$t("v.required")}:void 0},{default:t(()=>[l(le,{modelValue:u.value.allowSearch,"onUpdate:modelValue":o[14]||(o[14]=r=>u.value.allowSearch=r)},null,8,["modelValue"])]),_:1},8,["label","rules"])]}),_:1},8,["span"])):$("",!0),(m(!0),q(U,null,E(e(Y),n=>(m(),f(b,{key:n.code,span:n.double?12:24},{default:t(()=>[l(c,{prop:`customs.${n.code}`,rules:n.required?{required:!0,message:()=>a.$t("v.required")}:void 0},{label:t(()=>[l(ae,{label:n.name},null,8,["label"])]),default:t(()=>[l(Vl,{modelValue:u.value.customs[n.code],"onUpdate:modelValue":r=>u.value.customs[n.code]=r,"model-key":u.value.customs[n.code+"_key"],"onUpdate:modelKey":r=>u.value.customs[n.code+"_key"]=r,field:n},null,8,["modelValue","onUpdate:modelValue","model-key","onUpdate:modelKey","field"])]),_:2},1032,["prop","rules"])]),_:2},1032,["span"]))),128)),u.value.type===2?(m(),f(b,{key:9,span:e(s).text.double?12:24},{default:t(()=>{var n;return[l(c,{prop:"text",label:(n=e(s).text.name)!=null?n:a.$t("channel.text"),rules:e(s).text.required?{required:!0,message:()=>a.$t("v.required")}:void 0},{default:t(()=>[l(e($l),{modelValue:u.value.text,"onUpdate:modelValue":o[15]||(o[15]=r=>u.value.text=r)},null,8,["modelValue"])]),_:1},8,["label","rules"])]}),_:1},8,["span"])):$("",!0)]),_:2},1024)]),_:2},1024),l(b,{span:6,class:"el-form--label-top label-top"},{default:t(()=>[l(Qe,{type:"border-card",class:"ml-5"},{default:t(()=>[l(Je,{label:a.$t("channel.tabs.setting")},{default:t(()=>{var n,r,P,B;return[l(c,{prop:"parentId",label:(n=e(A).parent.name)!=null?n:a.$t("channel.parent")},{default:t(()=>[l(je,{modelValue:u.value.parentId,"onUpdate:modelValue":o[16]||(o[16]=y=>u.value.parentId=y),data:e(te),"node-key":"id",props:{label:"name",disabled:"disabled"},"render-after-expand":!1,"check-strictly":"",clearable:"",class:"w-full"},null,8,["modelValue","data"])]),_:1},8,["label"]),l(c,{prop:"type",label:(r=e(A).type.name)!=null?r:a.$t("channel.type"),rules:{required:!0,message:()=>a.$t("v.required")}},{default:t(()=>[l(L,{modelValue:u.value.type,"onUpdate:modelValue":o[17]||(o[17]=y=>u.value.type=y),class:"w-full"},{default:t(()=>[(m(),q(U,null,E([1,2,3,4,5],y=>l(M,{key:y,label:a.$t(`channel.type.${y}`),value:y},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1},8,["label","rules"]),l(c,{prop:"processKey",label:(P=e(A).processKey.name)!=null?P:a.$t("channel.processKey"),rules:e(A).processKey.required?{required:!0,message:()=>a.$t("v.required")}:void 0},{default:t(()=>[l(L,{modelValue:u.value.processKey,"onUpdate:modelValue":o[18]||(o[18]=y=>u.value.processKey=y),clearable:"",class:"w-full"},{default:t(()=>[(m(!0),q(U,null,E(j.value,y=>(m(),f(M,{key:y.key,label:y.name,value:y.key},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label","rules"]),l(c,{prop:"pageSize",label:(B=e(A).pageSize.name)!=null?B:a.$t("channel.pageSize"),rules:{required:!0,message:()=>a.$t("v.required")}},{default:t(()=>[l(Oe,{modelValue:u.value.pageSize,"onUpdate:modelValue":o[19]||(o[19]=y=>u.value.pageSize=y),min:1,max:200},null,8,["modelValue"])]),_:1},8,["label","rules"])]}),_:1},8,["label"])]),_:1})]),_:1})]),_:2},1024)]),_:1},8,["values","name","query-bean","create-bean","update-bean","delete-bean","bean-id","bean-ids","focus","init-values","to-values","model-value","disable-edit"])}}});const Cl=Ge(kl,[["__scopeId","data-v-1626efcf"]]),ql={class:"mb-3"},Tl={class:"app-block mt-3"},Ml={name:"ChannelList"},jl=ze({...Ml,setup(X){const{t:ne}=He(),N=v({}),D=v(),V=v(),C=v([]),u=v([]),j=v(!1),z=v(!1),_=v(),O=W(()=>De(C.value).map(i=>i.id)),K=v(!1),F=v(),J=v([]),T=v([]),R=i=>H.allChannelPermission||J.value.includes(i.id),s=async()=>{j.value=!0;try{C.value=await Re({...el(N.value),Q_OrderBy:D.value}),K.value=Object.values(N.value).filter(i=>i!==void 0&&i!=="").length>0||D.value!==void 0,K.value||(C.value=Fe(C.value))}finally{j.value=!1}},A=async()=>{H.epRank>0&&(T.value=await Ne({category:"sys_article",latestVersion:!0}))},Y=async()=>{J.value=await Ee()};Ye(()=>{s(),A(),Y()});const te=({column:i,prop:h,order:g})=>{var a;h?D.value=((a=i.sortBy)!=null?a:h)+(g==="descending"?"_desc":""):D.value=void 0,s()},G=()=>s(),oe=()=>{V.value.clearSort(),ll(N.value),D.value=void 0,s()},Z=i=>{_.value=void 0,F.value=i,z.value=!0},x=i=>{_.value=i,F.value=null,z.value=!0},ee=async i=>{await Ae(i),s(),al.success(ne("success"))},se=async(i,h)=>{const g=nl(i,De(C.value),h);await vl(g),await s(),i.forEach(a=>{V.value.toggleRowSelection(rl(C.value,o=>o.id===a.id))})};return(i,h)=>{const g=w("el-button"),a=w("el-popconfirm"),o=w("el-table-column"),k=w("el-tag"),c=w("el-table"),b=Ze("loading");return m(),q("div",null,[ue("div",ql,[l(e(bl),{params:N.value,onSearch:G,onReset:oe},{default:t(()=>[l(e(fl),{label:i.$t("channel.name"),name:"Q_Contains_name"},null,8,["label"])]),_:1},8,["params"])]),ue("div",null,[l(g,{type:"primary",disabled:e(Q)("channel:create"),icon:e(tl),onClick:h[0]||(h[0]=()=>Z(void 0))},{default:t(()=>[I(S(i.$t("add")),1)]),_:1},8,["disabled","icon"]),l(a,{title:i.$t("confirmDelete"),onConfirm:h[1]||(h[1]=()=>ee(u.value.map(p=>p.id)))},{reference:t(()=>[l(g,{disabled:u.value.length<=0||e(Q)("channel:delete"),icon:e(ol)},{default:t(()=>[I(S(i.$t("delete")),1)]),_:1},8,["disabled","icon"])]),_:1},8,["title"]),l(wl,{disabled:u.value.length<=0||K.value||e(Q)("channel:update"),class:"ml-2",onMove:h[2]||(h[2]=p=>se(u.value,p))},null,8,["disabled"]),l(e(hl),{name:"channel",class:"ml-2"})]),ue("div",Tl,[xe((m(),f(c,{ref_key:"table",ref:V,"row-key":"id","default-expand-all":"",data:C.value,onSelectionChange:h[3]||(h[3]=p=>u.value=p),onRowDblclick:h[4]||(h[4]=p=>x(p.id)),onSortChange:te},{default:t(()=>[l(e(yl),{name:"channel"},{default:t(()=>[l(o,{type:"selection",selectable:R,width:"45"}),l(o,{property:"name",label:i.$t("channel.name"),sortable:"custom","show-overflow-tooltip":""},{default:t(({row:p})=>[I(S(K.value?p.names.join(" / "):p.name),1)]),_:1},8,["label"]),l(o,{property:"alias",label:i.$t("channel.alias"),sortable:"custom","show-overflow-tooltip":""},null,8,["label"]),l(o,{property:"channelModel.name",label:i.$t("channel.channelModel"),display:"none",sortable:"custom","show-overflow-tooltip":""},null,8,["label"]),l(o,{property:"articleModel.name",label:i.$t("channel.articleModel"),sortable:"custom","show-overflow-tooltip":""},null,8,["label"]),l(o,{property:"processKey",label:i.$t("channel.processKey"),sortable:"custom","show-overflow-tooltip":""},{default:t(({row:p})=>{var M;return[I(S((M=T.value.find(L=>L.key===p.processKey))==null?void 0:M.name),1)]}),_:1},8,["label"]),l(o,{property:"nav",label:i.$t("channel.nav")},{default:t(({row:p})=>[l(k,{type:p.nav?"success":"info",size:"small"},{default:t(()=>[I(S(i.$t(p.nav?"yes":"no")),1)]),_:2},1032,["type"])]),_:1},8,["label"]),l(o,{property:"id",label:"ID",width:"64",sortable:"custom"}),l(o,{label:i.$t("table.action")},{default:t(({row:p})=>[l(g,{type:"primary",disabled:e(Q)("channel:create")||!R(p),size:"small",link:"",onClick:()=>Z(p)},{default:t(()=>[I(S(i.$t("addChild")),1)]),_:2},1032,["disabled","onClick"]),l(g,{type:"primary",disabled:e(Q)("channel:update"),size:"small",link:"",onClick:()=>x(p.id)},{default:t(()=>[I(S(i.$t("edit")),1)]),_:2},1032,["disabled","onClick"]),l(a,{title:i.$t("confirmDelete"),onConfirm:()=>ee([p.id])},{reference:t(()=>[l(g,{type:"primary",disabled:e(Q)("channel:delete")||!R(p),size:"small",link:""},{default:t(()=>[I(S(i.$t("delete")),1)]),_:2},1032,["disabled"])]),_:2},1032,["title","onConfirm"])]),_:1},8,["label"])]),_:1})]),_:1},8,["data"])),[[b,j.value]])]),l(Cl,{modelValue:z.value,"onUpdate:modelValue":h[5]||(h[5]=p=>z.value=p),"bean-id":_.value,"bean-ids":e(O),parent:F.value,onFinished:s},null,8,["modelValue","bean-id","bean-ids","parent"])])}}});export{jl as default};
